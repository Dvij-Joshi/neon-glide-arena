<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeonGlide Arena</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="main-layout">

        <!-- Main Menu & Lobby System -->
        <div id="menu-overlay">

            <!-- 1. Main Menu -->
            <div id="main-menu" class="menu-screen">
                <h1>NEON GLIDE</h1>
                <h2>Arena</h2>
                <button id="btn-create-menu">HOST GAME</button>
                <button id="btn-join-menu">JOIN GAME</button>
            </div>

            <!-- 2. Create Game Menu -->
            <div id="create-game-menu" class="menu-screen" style="display:none;">
                <h2>HOST GAME</h2>
                <input type="text" id="host-name-input" placeholder="HOST NAME" maxlength="12">
                <div class="mode-select">
                    <button class="mode-btn" data-mode="1v1">1 vs 1</button>
                    <button class="mode-btn" data-mode="2v2">2 vs 2</button>
                    <button class="mode-btn" data-mode="3v3">3 vs 3</button>
                    <button class="mode-btn" data-mode="4v4">4 vs 4</button>
                </div>
                <button id="btn-back-main" class="secondary-btn">BACK</button>
            </div>

            <!-- 3. Join Game Menu -->
            <div id="join-game-menu" class="menu-screen" style="display:none;">
                <h2>JOIN GAME</h2>
                <input type="text" id="join-code-input" placeholder="ENTER ROOM CODE" maxlength="4"
                    style="text-transform:uppercase;">
                <input type="text" id="join-name-input" placeholder="YOUR NAME" maxlength="12">
                <button id="btn-join-action">JOIN</button>
                <button id="btn-back-main-2" class="secondary-btn">BACK</button>
            </div>

            <!-- 4. Lobby UI -->
            <div id="lobby-ui" class="menu-screen" style="display:none;">
                <h2>LOBBY</h2>
                <h3 id="lobby-room-code">CODE: ----</h3>

                <div class="lobby-teams">
                    <div class="team-column" id="lobby-team-left">
                        <h4>TEAM A (Left)</h4>
                        <ul id="list-team-left"></ul>
                        <button class="join-team-btn" data-team="left">JOIN TEAM A</button>
                    </div>
                    <div class="team-column" id="lobby-team-right">
                        <h4>TEAM B (Right)</h4>
                        <ul id="list-team-right"></ul>
                        <button class="join-team-btn" data-team="right">JOIN TEAM B</button>
                    </div>
                </div>

                <div class="lobby-controls">
                    <button id="btn-ready-toggle" class="ready-btn">NOT READY</button>
                </div>

                <div id="host-controls" style="display:none;">
                    <button id="btn-start-game" disabled>START GAME (WAITING FOR READY)</button>
                </div>
                <div id="waiting-msg">Waiting for host to start...</div>
            </div>

            <!-- 6. Game Over / MVP Screen -->
            <div id="game-over-screen" class="menu-screen" style="display:none;">
                <h1>GAME OVER</h1>
                <h2 id="winner-text">TEAM A WINS!</h2>
                <div class="mvp-container">
                    <h3>MVP</h3>
                    <div id="mvp-name">Player Name</div>
                    <div id="mvp-stats">0 Goals</div>
                </div>
                <button id="btn-return-menu">RETURN TO MENU</button>
            </div>

        </div>

        <!-- 5. Game UI (Hidden until start) -->
        <div id="game-ui" style="display:none;">
            <!-- Sidebar Scoreboard -->
            <div id="sidebar">
                <div id="timer-display">02:00</div>
                <table class="scoreboard-table">
                    <thead>
                        <tr>
                            <th colspan="2">Players</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="team-header">
                            <td>Team A</td>
                            <td>Team B</td>
                        </tr>
                        <tr class="player-list-row">
                            <td id="team-a-players"></td>
                            <td id="team-b-players"></td>
                        </tr>
                    </tbody>
                    <thead>
                        <tr>
                            <th colspan="2">team score</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="score-header">
                            <td>Team A</td>
                            <td>Team B</td>
                        </tr>
                        <tr class="score-values">
                            <td id="p1-score">0</td>
                            <td id="p2-score">0</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="game-container">
                <canvas id="gameCanvas"></canvas>
            </div>
        </div>

    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script type="module" src="game.js"></script>
</body>

</html>